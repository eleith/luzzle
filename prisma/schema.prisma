datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Book {
  id                    String    @id @default(cuid())
  id_ol_book            String?   @unique    
  id_ol_work            String?
  isbn                  String?   @unique
  title                 String
  subtitle              String?
  author                String
  coauthors             String?
  description           String?
  pages                 Int?
  year_read             Int?
  month_read            Int?
  year_first_published  Int?
  date_added            DateTime  @default(now())
  date_updated          DateTime  @updatedAt
  keywords              String?
  id_cover_image        String?
  slug                  String?   @unique

  @@map("books")
}

model Tag {
  id              String    @id @default(cuid())
  type            String
  slug            String
  name            String
  date_added      DateTime  @default(now())
  date_updated    DateTime  @updatedAt

  @@unique([type, slug])
  @@map("tags")
}

model TagMap {
  id_tag          String
  id_item         String
  type            String
  date_added      DateTime  @default(now())
  date_updated    DateTime  @updatedAt

  @@unique([id_tag, id_item, type])
}
